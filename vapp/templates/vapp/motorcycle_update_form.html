{% extends 'vapp/base.html' %}
{%load static%}

{% block title %}
    Actualizar Moto - ViuVehicle
{% endblock title %}


{% block content %}
<main>
    <h2 class="text-white mt-5 text-center">Actualizar Motocicleta</h2>
    <div class="contain-fluid">
        {% if 'ok' in request.GET %}
                <div class="row m-5 g-3">
                    <div class="alert alert-success col-11" role="alert">
                        Se actualizo correctamente, haga click <a href="{% url 'motorcycle-list' %}" class="alert-link">Aqui </a>si quiere volver al menu.
                      </div>
                </div>
            {% endif %}  
        <form class="row g-3 m-5" enctype='multipart/form-data' method="POST">
            {% csrf_token %}
            <div class="col-11">
                <label for="id_name" class="form-label text-white">Motocicleta</label>
                <input type="text" id="id_name" name="name" maxlength="50" required="" value="{{form.name.value}}" class="form-control">
            </div>
            <div class="col-11">
                <label for="id_born" class="form-label text-white">Año</label>
                <input type="number" id="id_born" name="born" required="" value="{{form.born.value}}" class="form-control"">
            </div>
            <div class="col-11">
                <label class="form-label text-white" for="id_description">Descripción</label>
                <textarea class="form-control" placeholder="Ingrese una descripción" id="id_description" style="height: 100px" name="description" cols="40" required="">{{form.description.value}}</textarea>
              </div>
            <div class="col-11">
                <label for="id_maximum_speed" class="form-label text-white">Velocidad Maxima</label>
                <input type="number" id="id_maximum_speed" name="maximum_speed" value="{{form.maximum_speed.value}}" class="form-control">
            </div>
            <div class="col-11">
                {% if form.image %}
                <label for="id_image" class="form-label text-white">Imagen Nueva</label>
                <a href="http://localhost:8000/media/{{form.image.value}}" class="text-success ms-3 fw-bold">{{form.image.value}}</a>
                <input type="checkbox" id="image-clear_id" class="ms-2" name="image-clear">
                <label for="image-clear_id" class="text-white">Eliminar imagen actual</label>
                <input type="file" id="id_image" name="image" class="form-control" accept="image/">
                {% else %}
                <label for="id_image" class="form-label text-white">Imagen</label>
                <input type="file" id="id_image" name="image" class="form-control" accept="image/">
                {% endif %}
            </div>
            <div class="col-11">
                <label for="id_company" class="form-label text-white">Compañía</label>
                <select class="form-select" id="id_company" name="company" required="">
                    {% for option in form.company  %}
                        {{option}}
                    {% endfor %}
                </select>
            </div>
            <div class="col-12">
              <input type="submit" class="btn btn-success" value="Actualizar">
            </div>
          </form>
    </div>
</main>
{% endblock content %}